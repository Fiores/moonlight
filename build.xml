<?xml version="1.0" encoding="UTF-8"?>

<project name="libtabun" default="jar">
    <property file="build.properties"/>

    <target name="clean">
        <delete dir="${build.dir}"/>
    </target>

    <target name="build" depends="clean">

        <mkdir dir="${build.dir}"/>

        <javac
                executable="${jdk.bin}"
                destdir="${build.dir}"
                srcdir="${src.dir}"
                >

            <include name="**/*.java"/>
            <exclude name="**/example/*.java"/>
            <exclude name="**/libtabun/tests/*.java"/>

            <classpath>
                <fileset dir="${libs.dir}"/>
            </classpath>
        </javac>

    </target>

    <target name="jar-lib" depends="build">
        <jar destfile="${out.dir}/libtabun.jar" basedir="${build.dir}"/>
    </target>

    <target name="jar-sources">
        <jar destfile="${out.dir}/libtabun-sources.jar" basedir="${src.dir}">
            <include name="**/*.java"/>
            <exclude name="**/example/*.java"/>
            <exclude name="**/tests/*.java"/>
        </jar>
    </target>

    <target name="jar" depends="jar-lib, jar-sources">
    </target>

</project>